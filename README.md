# Drag'n'Drop (Native JS). Function for elements.

**Теперь немного о нативном Drag'n'Drop**

На самом деле, браузерные Drag'n'Drop события основаны на трёх событиях мыши: mousedown, mousemove и mouseup.

За основу нативного Drag'n'Drop я взял решение которое предложил Илья Кантор в своём учебнике. В качестве практики, я также сделал функцию котороя делает элемент перемещаемым, но уже на нативном Drag'n'Drop.

В общем...

В файле nativeDrag.js находится эта функция, код вышел запутаннее и сложнее чем в браузерной реализации Drag'n'Drop, но обо всём по порядку:

1.  Получите DOM - узел со страницы. Функция makeElementDraggableNative первым параметром принимает DOM - узел который вы хотите сделать перетаскиваемым.
2.  Вторым необязательным параметром, функция принимает строку, которая является классом со стилями, эот класс применится к захваченному элементу, чтобы показать что он теперь активен. Если опустить этот параметр, то всё по прежнему будет работать, но не будет стилизации Drag элемента.
3.  Третьим необязательным параметром функция принимает селектор, который указывает на принимающий элемент. По умолчанию это '.droppable'.

makeElementDraggableNative(dragElement, 'drag-active') - передали функции узел, 2 параметром передали класс, который будет применяться к этому узлу в момент "захвата".

* В момент mousedown сработает наш алгоритм Drag'n'Drop. На этом шаге как раз и применяется класс стилей из 2 параметра.
* При mousemove наш элемент позиционируется и также определяется целевой элемент для сброса Drag элемента. Целевой элемент определяется с помощью 3 параметра функции, это селектор(**удобнее использовать селектор класса**), передав который, обработчик определит что это целевой элемент и что именно он нам нужен, по умолчанию для 3 параметра стоит класс '.droppable', вы можете оставить его, только не забудьте добавить этот класс элементу в HTML.

```js
// Параметр elem это потенциальная цель куда сбросится Drag элемент, аргумент передаётся автоматически
function enterDroppable(elem) {
    // В этой функции обрабатывается логика захода в droppable элемент, можем добавить ещё какие-то стили и тд.
    elem.classList.add('drop-active2');
}
    
function leaveDroppable(elem) {
    // В этой функции обрабатывается логика выхода из droppable элемента, удаляем всё то, что добавили при заходе, в enterDroppable.
    elem.classList.remove('drop-active2');
}
```

* При onmouseup осуществляем добавление Drag элемента в целевой(если нам это нужно), удаляем все ранее назначенные обработчики и стилевое оформление, алгоритм Drag'n'Drop завершён.

Наверное это всё. Более подробно я всё расписал в коде :pencil:. Пользуйтесь в своё удовольствие, данное решение не сложно адаптировать под свои нужны Drag'n'Drop. Thank you!:wink::octocat: